{
  "version": 3,
  "sources": ["../src/languages/language-client.ts"],
  "sourcesContent": ["import * as vscode from 'vscode';\r\nimport { LanguageClient, LanguageClientOptions, TransportKind } from 'vscode-languageclient/node';\r\n\r\nexport abstract class LanguageClientBase {\r\n\t/**\r\n\t * Get the relative path to the compiled language server module.\r\n\t */\r\n\tabstract get serverPath(): string;\r\n\r\n\t/**\r\n\t * Get the human readably name of the language.\r\n\t */\r\n\treadonly languageName: string;\r\n\r\n\t/**\r\n\t * The language ID for the language client.\r\n\t */\r\n\treadonly languageId: string;\r\n\r\n\t/**\r\n\t * The channel ID for logging.\r\n\t */\r\n\treadonly channelName: string;\r\n\r\n\t/**\r\n\t * The channel ID for logging.\r\n\t */\r\n\treadonly channelId: string;\r\n\r\n\t/**\r\n\t * The output channel.\r\n\t */\r\n\treadonly channel: vscode.OutputChannel;\r\n\r\n\t/**\r\n\t * The VS Code language client.\r\n\t */\r\n\tclient: LanguageClient | undefined;\r\n\r\n\tconstructor(langaugeId: string, languageName: string) {\r\n\t\tthis.languageName = languageName;\r\n\t\tthis.languageId = langaugeId;\r\n\t\tthis.channelName = `Mentor Language (${languageName})`;\r\n\t\tthis.channelId = `mentor.language.${langaugeId}`;\r\n\t\tthis.channel = vscode.window.createOutputChannel(this.channelName, this.channelId);\r\n\t}\r\n\r\n\tstart(context: vscode.ExtensionContext) {\r\n\t\tconsole.log(`Starting ${this.languageName} Language Client..`);\r\n\r\n\t\tconst module = context.asAbsolutePath(this.serverPath);\r\n\r\n\t\tconst serverOptions = {\r\n\t\t\trun: { module, transport: TransportKind.ipc },\r\n\t\t\tdebug: { module, transport: TransportKind.ipc }\r\n\t\t};\r\n\r\n\t\tconst clientOptions: LanguageClientOptions = {\r\n\t\t\tdiagnosticCollectionName: this.channelId,\r\n\t\t\tdocumentSelector: [{ language: this.languageId }],\r\n\t\t\toutputChannel: this.channel\r\n\t\t};\r\n\r\n\t\tthis.client = new LanguageClient(this.channelId, `${this.languageName} Language Client`, serverOptions, clientOptions);\r\n\t\tthis.client.start();\r\n\t}\r\n\r\n\tasync stop() {\r\n\t\tif (this.client) {\r\n\t\t\tawait this.client.stop();\r\n\t\t}\r\n\t}\r\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAwB;AACxB,kBAAqE;AAE9D,MAAe,mBAAmB;AAAA,EAoCxC,YAAY,YAAoB,cAAsB;AACrD,SAAK,eAAe;AACpB,SAAK,aAAa;AAClB,SAAK,cAAc,oBAAoB;AACvC,SAAK,YAAY,mBAAmB;AACpC,SAAK,UAAU,OAAO,OAAO,oBAAoB,KAAK,aAAa,KAAK,SAAS;AAAA,EAClF;AAAA,EAEA,MAAM,SAAkC;AACvC,YAAQ,IAAI,YAAY,KAAK,gCAAgC;AAE7D,UAAMA,UAAS,QAAQ,eAAe,KAAK,UAAU;AAErD,UAAM,gBAAgB;AAAA,MACrB,KAAK,EAAE,QAAAA,SAAQ,WAAW,0BAAc,IAAI;AAAA,MAC5C,OAAO,EAAE,QAAAA,SAAQ,WAAW,0BAAc,IAAI;AAAA,IAC/C;AAEA,UAAM,gBAAuC;AAAA,MAC5C,0BAA0B,KAAK;AAAA,MAC/B,kBAAkB,CAAC,EAAE,UAAU,KAAK,WAAW,CAAC;AAAA,MAChD,eAAe,KAAK;AAAA,IACrB;AAEA,SAAK,SAAS,IAAI,2BAAe,KAAK,WAAW,GAAG,KAAK,gCAAgC,eAAe,aAAa;AACrH,SAAK,OAAO,MAAM;AAAA,EACnB;AAAA,EAEA,MAAM,OAAO;AACZ,QAAI,KAAK,QAAQ;AAChB,YAAM,KAAK,OAAO,KAAK;AAAA,IACxB;AAAA,EACD;AACD;",
  "names": ["module"]
}
